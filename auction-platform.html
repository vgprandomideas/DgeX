<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DamageEx - Auction Marketplace</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px 35px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header-left h1 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 5px;
        }

        .header-left p {
            color: #666;
        }

        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .currency-selector, .filter-select {
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            font-weight: 600;
            color: #667eea;
        }

        .search-box {
            padding: 12px 20px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            width: 300px;
            font-size: 16px;
        }

        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .stats-bar {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
        }

        .stat-icon {
            font-size: 2rem;
            margin-bottom: 8px;
        }

        .stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 3px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
        }

        .auctions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .auction-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .auction-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .auction-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #f1f5f9, #e2e8f0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            color: #94a3b8;
            position: relative;
        }

        .auction-status {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-live {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            animation: pulse 2s infinite;
        }

        .status-upcoming {
            background: #fef3c7;
            color: #92400e;
        }

        .status-ending-soon {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            animation: blink 1s infinite;
        }

        .status-closed {
            background: #e5e7eb;
            color: #6b7280;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .auction-content {
            padding: 25px;
        }

        .auction-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .auction-id {
            font-weight: bold;
            color: #667eea;
            font-size: 1.1rem;
        }

        .auction-grade {
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .grade-a { background: #dcfce7; color: #166534; }
        .grade-b { background: #dbeafe; color: #1e40af; }
        .grade-c { background: #fef3c7; color: #92400e; }
        .grade-d { background: #fed7d7; color: #c53030; }

        .auction-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
            line-height: 1.3;
        }

        .auction-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
        }

        .detail-label {
            font-size: 0.8rem;
            color: #666;
            text-transform: uppercase;
            font-weight: 600;
            margin-bottom: 3px;
        }

        .detail-value {
            font-weight: 600;
            color: #333;
        }

        .current-bid {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            text-align: center;
            border: 2px solid #0891b2;
        }

        .bid-amount {
            font-size: 1.8rem;
            font-weight: bold;
            color: #0891b2;
            margin-bottom: 3px;
        }

        .bid-info {
            font-size: 0.9rem;
            color: #0369a1;
        }

        .time-remaining {
            background: linear-gradient(135deg, #fef7ff, #f3e8ff);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            border: 2px solid #9333ea;
        }

        .countdown {
            font-size: 1.5rem;
            font-weight: bold;
            color: #9333ea;
            margin-bottom: 3px;
            font-family: 'Courier New', monospace;
        }

        .countdown-label {
            font-size: 0.9rem;
            color: #7c3aed;
        }

        .auction-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            flex: 1;
            padding: 12px 15px;
            border: none;
            border-radius: 10px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-btn.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .action-btn.success {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
        }

        .action-btn.warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }

        .action-btn.secondary {
            background: #f8fafc;
            color: #333;
            border: 2px solid #e1e5e9;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .action-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .sidebar-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .sidebar-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bidding-interface {
            display: none;
        }

        .bidding-interface.active {
            display: block;
        }

        .current-auction {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 12px;
            border: 2px solid #0891b2;
        }

        .current-auction-title {
            font-weight: 700;
            color: #0891b2;
            margin-bottom: 10px;
        }

        .bid-input-section {
            margin-bottom: 20px;
        }

        .bid-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 600;
            text-align: center;
            margin-bottom: 10px;
        }

        .bid-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .quick-bid-buttons {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 15px;
        }

        .quick-bid-btn {
            padding: 10px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .quick-bid-btn:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .place-bid-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .place-bid-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(239, 68, 68, 0.3);
        }

        .place-bid-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .bid-history {
            max-height: 300px;
            overflow-y: auto;
        }

        .bid-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .bid-item:last-child {
            border-bottom: none;
        }

        .bidder-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bidder-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .bidder-name {
            font-weight: 600;
            color: #333;
        }

        .bid-amount-small {
            font-weight: bold;
            color: #667eea;
        }

        .bid-time {
            font-size: 0.8rem;
            color: #666;
        }

        .watchlist-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .watchlist-item:last-child {
            border-bottom: none;
        }

        .watchlist-info {
            flex: 1;
        }

        .watchlist-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 3px;
        }

        .watchlist-price {
            font-size: 0.9rem;
            color: #667eea;
            font-weight: 600;
        }

        .remove-watchlist {
            background: #ef4444;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .auctions-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .header-controls {
                flex-direction: column;
                gap: 10px;
            }
            
            .search-box {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <h1>üè∫ Auction Marketplace</h1>
                <p>Real-time bidding on damaged goods with instant SCF approval</p>
            </div>
            <div class="header-controls">
                <select class="currency-selector" id="currencySelector">
                    <option value="USD">üá∫üá∏ USD</option>
                    <option value="INR" selected>üáÆüá≥ INR</option>
                    <option value="EUR">üá™üá∫ EUR</option>
                    <option value="GBP">üá¨üáß GBP</option>
                    <option value="AED">üá¶üá™ AED</option>
                    <option value="SGD">üá∏üá¨ SGD</option>
                    <option value="CNY">üá®üá≥ CNY</option>
                    <option value="JPY">üáØüáµ JPY</option>
                </select>
                <input type="text" class="search-box" placeholder="Search auctions..." id="searchBox">
                <select class="filter-select" id="categoryFilter">
                    <option value="">All Categories</option>
                    <option value="electronics">Electronics</option>
                    <option value="textiles">Textiles</option>
                    <option value="machinery">Machinery</option>
                    <option value="automotive">Automotive</option>
                    <option value="chemicals">Chemicals</option>
                </select>
                <select class="filter-select" id="statusFilter">
                    <option value="">All Status</option>
                    <option value="live">Live Now</option>
                    <option value="upcoming">Upcoming</option>
                    <option value="ending-soon">Ending Soon</option>
                </select>
                <a href="#" class="nav-btn primary" onclick="createAuction()">+ Create Auction</a>
            </div>
        </div>

        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-icon">üè∫</div>
                <div class="stat-number" id="liveAuctions">23</div>
                <div class="stat-label">Live Auctions</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-number" id="activeBidders">156</div>
                <div class="stat-label">Active Bidders</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-number" id="totalValue">‚Çπ12.4Cr</div>
                <div class="stat-label">Total Value</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üìà</div>
                <div class="stat-number" id="avgBids">8.2</div>
                <div class="stat-label">Avg Bids/Item</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">‚ö°</div>
                <div class="stat-number" id="scfApprovals">89%</div>
                <div class="stat-label">SCF Approvals</div>
            </div>
        </div>

        <div class="main-content">
            <div>
                <div class="auctions-grid" id="auctionsGrid">
                    <!-- Auctions will be populated here -->
                </div>
            </div>

            <div class="sidebar">
                <!-- Live Bidding Interface -->
                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <span>‚ö°</span> Live Bidding
                    </div>
                    
                    <div id="biddingInterface" class="bidding-interface">
                        <div class="current-auction">
                            <div class="current-auction-title" id="currentAuctionTitle">Select an auction to start bidding</div>
                            <div id="currentAuctionDetails"></div>
                        </div>
                        
                        <div class="bid-input-section">
                            <input type="number" class="bid-input" id="bidAmount" placeholder="Enter bid amount" disabled>
                            
                            <div style="background: #fef3c7; padding: 15px; border-radius: 10px; margin-bottom: 20px; font-size: 0.9rem;">
                                <strong>üí≥ SCF Available:</strong> Get instant financing up to 60% of bid amount based on your credit score!
                            </div>
                            
                            <div id="quickBidButtons" class="quick-bid-buttons">
                                <!-- Quick bid buttons will be populated here -->
                            </div>
                            
                            <button class="place-bid-btn" id="placeBidBtn" onclick="placeBid()" disabled>
                                Place Bid
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Bid History -->
                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <span>üìà</span> Recent Bids
                    </div>
                    
                    <div class="bid-history" id="bidHistory">
                        <!-- Bid history will be populated here -->
                    </div>
                </div>

                <!-- Watchlist -->
                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <span>‚≠ê</span> My Watchlist
                    </div>
                    
                    <div id="watchlist">
                        <!-- Watchlist items will be populated here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class AuctionPlatform {
            constructor() {
                this.auctions = this.loadSampleAuctions();
                this.currentAuction = null;
                this.bidHistory = this.loadBidHistory();
                this.watchlist = this.loadWatchlist();
                this.userBids = new Map();
                this.currentCurrency = "INR";
                this.exchangeRates = this.loadExchangeRates();
                this.init();
            }

            init() {
                this.renderAuctions();
                this.renderBidHistory();
                this.renderWatchlist();
                this.startCountdownTimers();
                this.bindEvents();
                this.updateQuickBidButtons();
            }

            bindEvents() {
                document.getElementById("searchBox").addEventListener("input", () => this.filterAuctions());
                document.getElementById("categoryFilter").addEventListener("change", () => this.filterAuctions());
                document.getElementById("statusFilter").addEventListener("change", () => this.filterAuctions());
                document.getElementById("currencySelector").addEventListener("change", (e) => this.changeCurrency(e.target.value));
                
                document.getElementById("bidAmount").addEventListener("input", (e) => {
                    this.validateBidAmount(e.target.value);
                });
            }

            loadExchangeRates() {
                return {
                    USD: 1.0,
                    INR: 83.25,
                    EUR: 0.85,
                    GBP: 0.73,
                    AED: 3.67,
                    SGD: 1.35,
                    CNY: 7.15,
                    JPY: 150.0
                };
            }

            getCurrencySymbol(currency) {
                const symbols = {
                    USD: "$",
                    INR: "‚Çπ",
                    EUR: "‚Ç¨",
                    GBP: "¬£",
                    AED: "ÿØ.ÿ•",
                    SGD: "S$",
                    CNY: "¬•",
                    JPY: "¬•"
                };
                return symbols[currency] || currency;
            }

            convertCurrency(amount, fromCurrency, toCurrency) {
                if (!fromCurrency) fromCurrency = "USD";
                if (!toCurrency) toCurrency = this.currentCurrency;
                if (fromCurrency === toCurrency) return amount;
                
                const usdAmount = amount / this.exchangeRates[fromCurrency];
                return Math.round(usdAmount * this.exchangeRates[toCurrency]);
            }

            formatCurrency(amount, currency) {
                if (!currency) currency = this.currentCurrency;
                const symbol = this.getCurrencySymbol(currency);
                const convertedAmount = this.convertCurrency(amount, "USD", currency);
                
                if (currency === "JPY") {
                    return symbol + convertedAmount.toLocaleString();
                } else if (currency === "INR") {
                    return symbol + convertedAmount.toLocaleString("en-IN");
                } else {
                    return symbol + convertedAmount.toLocaleString();
                }
            }

            changeCurrency(newCurrency) {
                this.currentCurrency = newCurrency;
                this.renderAuctions();
                this.renderBidHistory();
                this.renderWatchlist();
                this.updateQuickBidButtons();
                
                if (this.currentAuction) {
                    this.updateBiddingInterface();
                }
            }

            updateQuickBidButtons() {
                const container = document.getElementById("quickBidButtons");
                const increments = this.getQuickBidIncrements();
                
                container.innerHTML = increments.slice(0, 6).map(increment => 
                    '<button class="quick-bid-btn" onclick="quickBid(' + increment + ')">+' + this.formatCurrency(increment).replace(/[^0-9,]/g, "") + '</button>'
                ).join("");
            }

            getQuickBidIncrements() {
                const increments = {
                    USD: [100, 500, 1000, 2500, 5000, 10000],
                    INR: [1000, 5000, 10000, 25000, 50000, 100000],
                    EUR: [100, 250, 500, 1000, 2500, 5000],
                    GBP: [50, 200, 500, 1000, 2000, 5000],
                    AED: [200, 500, 1000, 2500, 5000, 10000],
                    SGD: [100, 300, 700, 1500, 3000, 7000],
                    CNY: [500, 1000, 2000, 5000, 10000, 20000],
                    JPY: [10000, 25000, 50000, 100000, 250000, 500000]
                };
                return increments[this.currentCurrency] || [100, 500, 1000, 2500, 5000, 10000];
            }

            loadSampleAuctions() {
                return [
                    {
                        id: "AUC-2024-001",
                        title: "Samsung Galaxy S24 Ultra (50 units) - Water Damage",
                        category: "electronics",
                        grade: "B",
                        damageType: "Water Damage",
                        originalValue: 30000,
                        reservePrice: 14400,
                        currentBid: 17400,
                        bidCount: 12,
                        status: "live",
                        endTime: new Date(Date.now() + 2 * 60 * 60 * 1000),
                        location: "Mumbai Port",
                        containerNumber: "TGHU1234567",
                        photos: 8,
                        leadingBidder: "IndustryExpert",
                        scfAvailable: true
                    },
                    {
                        id: "AUC-2024-004",
                        title: "Automotive Spare Parts - Packaging Issues",
                        category: "automotive",
                        grade: "B",
                        damageType: "Packaging Issues",
                        originalValue: 14400,
                        reservePrice: 10080,
                        currentBid: 11040,
                        bidCount: 15,
                        status: "live",
                        endTime: new Date(Date.now() + 4 * 60 * 60 * 1000),
                        location: "Bangalore Hub",
                        containerNumber: "COSCO7777777",
                        photos: 6,
                        leadingBidder: "AutoDealer99",
                        scfAvailable: true
                    },
                    {
                        id: "AUC-2024-005",
                        title: "Chemical Products - Contamination",
                        category: "chemicals",
                        grade: "D",
                        damageType: "Contamination",
                        originalValue: 7200,
                        reservePrice: 2160,
                        currentBid: 2460,
                        bidCount: 3,
                        status: "closed",
                        endTime: new Date(Date.now() - 60 * 60 * 1000),
                        location: "Cochin Port",
                        containerNumber: "EVERGREEN123",
                        photos: 10,
                        leadingBidder: "ChemTrader",
                        winner: "ChemTrader",
                        scfAvailable: false
                    }
                ];
            }

            loadBidHistory() {
                return [
                    { auctionId: "AUC-2024-001", bidder: "TechBuyer123", amount: 17400, time: new Date(Date.now() - 5 * 60 * 1000) },
                    { auctionId: "AUC-2024-001", bidder: "ElectronicsDealer", amount: 17040, time: new Date(Date.now() - 12 * 60 * 1000) },
                    { auctionId: "AUC-2024-003", bidder: "IndustryExpert", amount: 46200, time: new Date(Date.now() - 8 * 60 * 1000) },
                    { auctionId: "AUC-2024-004", bidder: "AutoDealer99", amount: 11040, time: new Date(Date.now() - 3 * 60 * 1000) },
                    { auctionId: "AUC-2024-003", bidder: "MachineShop", amount: 45600, time: new Date(Date.now() - 15 * 60 * 1000) }
                ];
            }

            loadWatchlist() {
                return [
                    { auctionId: "AUC-2024-001", addedTime: new Date(Date.now() - 60 * 60 * 1000) },
                    { auctionId: "AUC-2024-002", addedTime: new Date(Date.now() - 30 * 60 * 1000) }
                ];
            }

            renderAuctions() {
                const auctionsGrid = document.getElementById("auctionsGrid");
                const filteredAuctions = this.getFilteredAuctions();
                
                if (filteredAuctions.length === 0) {
                    auctionsGrid.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 60px; color: #666;"><div style="font-size: 4rem; margin-bottom: 20px;">üè∫</div><h3>No auctions found</h3><p>Try adjusting your search criteria or check back later</p></div>';
                    return;
                }

                auctionsGrid.innerHTML = filteredAuctions.map(auction => {
                    const timeRemaining = this.getTimeRemaining(auction.endTime);
                    const isWatched = this.watchlist.some(w => w.auctionId === auction.id);
                    
                    return '<div class="auction-card">' +
                        '<div class="auction-image">' +
                            this.getCategoryIcon(auction.category) +
                            '<div class="auction-status status-' + auction.status + '">' +
                                auction.status.replace("-", " ") +
                            '</div>' +
                        '</div>' +
                        '<div class="auction-content">' +
                            '<div class="auction-header">' +
                                '<div class="auction-id">' + auction.id + '</div>' +
                                '<div class="auction-grade grade-' + auction.grade.toLowerCase() + '">Grade ' + auction.grade + '</div>' +
                            '</div>' +
                            '<div class="auction-title">' + auction.title + '</div>' +
                            '<div class="auction-details">' +
                                '<div class="detail-item"><div class="detail-label">Category</div><div class="detail-value">' + auction.category + '</div></div>' +
                                '<div class="detail-item"><div class="detail-label">Damage Type</div><div class="detail-value">' + auction.damageType + '</div></div>' +
                                '<div class="detail-item"><div class="detail-label">Location</div><div class="detail-value">' + auction.location + '</div></div>' +
                                '<div class="detail-item"><div class="detail-label">Photos</div><div class="detail-value">' + auction.photos + ' images</div></div>' +
                            '</div>' +
                            (auction.currentBid > 0 ? 
                                '<div class="current-bid"><div class="bid-amount">' + this.formatCurrency(auction.currentBid) + '</div><div class="bid-info">' + auction.bidCount + ' bids ‚Ä¢ Leading: ' + auction.leadingBidder + '</div></div>' :
                                '<div class="current-bid"><div class="bid-amount">' + this.formatCurrency(auction.reservePrice) + '</div><div class="bid-info">Reserve Price ‚Ä¢ No bids yet</div></div>'
                            ) +
                            '<div class="time-remaining"><div class="countdown" data-auction-id="' + auction.id + '">' + timeRemaining.display + '</div><div class="countdown-label">' + timeRemaining.label + '</div></div>' +
                            '<div class="auction-actions">' +
                                (auction.status === "live" || auction.status === "ending-soon" ? 
                                    '<button class="action-btn primary" onclick="startBidding(\'' + auction.id + '\')">' + (auction.scfAvailable ? 'üí≥ Bid with SCF' : 'Place Bid') + '</button>' :
                                    auction.status === "upcoming" ?
                                    '<button class="action-btn warning" onclick="setReminder(\'' + auction.id + '\')">Set Reminder</button>' :
                                    '<button class="action-btn secondary" disabled>Auction Closed</button>'
                                ) +
                                '<button class="action-btn secondary" onclick="viewDetails(\'' + auction.id + '\')">Details</button>' +
                                '<button class="action-btn ' + (isWatched ? 'success' : 'secondary') + '" onclick="toggleWatchlist(\'' + auction.id + '\')">' + (isWatched ? '‚≠ê' : '‚òÜ') + '</button>' +
                            '</div>' +
                        '</div>' +
                    '</div>';
                }).join("");
            }

            getCategoryIcon(category) {
                const icons = {
                    electronics: "üì±",
                    textiles: "üëï",
                    machinery: "‚öôÔ∏è",
                    automotive: "üöó",
                    chemicals: "üß™",
                    food: "üçé",
                    furniture: "ü™ë"
                };
                return icons[category] || "üì¶";
            }

            getTimeRemaining(endTime) {
                const now = new Date();
                const timeDiff = endTime - now;
                
                if (timeDiff <= 0) {
                    return { display: "ENDED", label: "Auction Closed" };
                }
                
                const hours = Math.floor(timeDiff / (1000 * 60 * 60));
                const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);
                
                if (hours > 0) {
                    return { display: hours + "h " + minutes + "m", label: "Time Remaining" };
                } else if (minutes > 0) {
                    return { display: minutes + "m " + seconds + "s", label: "Time Remaining" };
                } else {
                    return { display: seconds + "s", label: "Ending Soon!" };
                }
            }

            startCountdownTimers() {
                setInterval(() => {
                    document.querySelectorAll(".countdown").forEach(element => {
                        const auctionId = element.dataset.auctionId;
                        const auction = this.auctions.find(a => a.id === auctionId);
                        if (auction) {
                            const timeRemaining = this.getTimeRemaining(auction.endTime);
                            element.textContent = timeRemaining.display;
                            
                            if (timeRemaining.display === "ENDED" && auction.status !== "closed") {
                                auction.status = "closed";
                                this.renderAuctions();
                            }
                        }
                    });
                }, 1000);
            }

            getFilteredAuctions() {
                const searchTerm = document.getElementById("searchBox").value.toLowerCase();
                const categoryFilter = document.getElementById("categoryFilter").value;
                const statusFilter = document.getElementById("statusFilter").value;
                
                return this.auctions.filter(auction => {
                    const matchesSearch = !searchTerm || 
                        auction.title.toLowerCase().includes(searchTerm) ||
                        auction.id.toLowerCase().includes(searchTerm) ||
                        auction.category.toLowerCase().includes(searchTerm);
                    
                    const matchesCategory = !categoryFilter || auction.category === categoryFilter;
                    const matchesStatus = !statusFilter || auction.status === statusFilter;
                    
                    return matchesSearch && matchesCategory && matchesStatus;
                });
            }

            filterAuctions() {
                this.renderAuctions();
            }

            startBidding(auctionId) {
                const auction = this.auctions.find(a => a.id === auctionId);
                if (!auction) return;
                
                this.currentAuction = auction;
                document.getElementById("biddingInterface").classList.add("active");
                
                document.getElementById("currentAuctionTitle").textContent = auction.title;
                document.getElementById("currentAuctionDetails").innerHTML = '<div style="font-size: 0.9rem; color: #666; margin-top: 5px;">Current Bid: ' + this.formatCurrency(auction.currentBid) + ' | ' + auction.bidCount + ' bids</div>';
                
                const minBid = auction.currentBid > 0 ? 
                    this.convertCurrency(auction.currentBid + 1000, "USD") : 
                    this.convertCurrency(auction.reservePrice, "USD");
                
                document.getElementById("bidAmount").value = minBid;
                document.getElementById("bidAmount").disabled = false;
                document.getElementById("placeBidBtn").disabled = false;
                
                this.validateBidAmount(minBid);
                
                document.getElementById("biddingInterface").scrollIntoView({ behavior: "smooth" });
            }

            updateBiddingInterface() {
                if (!this.currentAuction) return;
                
                const auction = this.currentAuction;
                document.getElementById("currentAuctionDetails").innerHTML = '<div style="font-size: 0.9rem; color: #666; margin-top: 5px;">Current Bid: ' + this.formatCurrency(auction.currentBid) + ' | ' + auction.bidCount + ' bids</div>';
                
                const minBid = auction.currentBid > 0 ? 
                    this.convertCurrency(auction.currentBid + 1000, "USD") : 
                    this.convertCurrency(auction.reservePrice, "USD");
                
                document.getElementById("bidAmount").value = minBid;
                this.validateBidAmount(minBid);
            }

            quickBid(increment) {
                if (!this.currentAuction) return;
                
                const currentBidInput = document.getElementById("bidAmount");
                const currentValue = parseInt(currentBidInput.value) || 0;
                const newValue = currentValue + increment;
                
                currentBidInput.value = newValue;
                this.validateBidAmount(newValue);
            }

            validateBidAmount(amount) {
                if (!this.currentAuction) return;
                
                const numAmount = parseInt(amount);
                const minBid = this.currentAuction.currentBid > 0 ? 
                    this.convertCurrency(this.currentAuction.currentBid + 1000, "USD") : 
                    this.convertCurrency(this.currentAuction.reservePrice, "USD");
                
                const placeBidBtn = document.getElementById("placeBidBtn");
                const bidInput = document.getElementById("bidAmount");
                
                if (numAmount >= minBid) {
                    placeBidBtn.disabled = false;
                    bidInput.style.borderColor = "#22c55e";
                    placeBidBtn.textContent = "Place Bid - " + this.formatCurrency(numAmount);
                } else {
                    placeBidBtn.disabled = true;
                    bidInput.style.borderColor = "#ef4444";
                    placeBidBtn.textContent = "Minimum: " + this.formatCurrency(minBid);
                }
            }

            placeBid() {
                if (!this.currentAuction) return;
                
                const bidAmount = parseInt(document.getElementById("bidAmount").value);
                const auction = this.currentAuction;
                
                const newBid = {
                    auctionId: auction.id,
                    bidder: "You",
                    amount: bidAmount,
                    time: new Date()
                };
                
                auction.currentBid = this.convertCurrency(bidAmount, this.currentCurrency, "USD");
                auction.bidCount++;
                auction.leadingBidder = "You";
                
                this.bidHistory.unshift(newBid);
                this.userBids.set(auction.id, bidAmount);
                
                this.renderAuctions();
                this.renderBidHistory();
                
                this.showBidConfirmation(auction.id, bidAmount);
                
                document.getElementById("currentAuctionDetails").innerHTML = '<div style="font-size: 0.9rem; color: #22c55e; margin-top: 5px;">‚úÖ Your bid: ' + this.formatCurrency(bidAmount) + ' (Leading!)</div>';
                
                const newMinBid = bidAmount + this.getMinimumIncrement();
                document.getElementById("bidAmount").value = newMinBid;
                this.validateBidAmount(newMinBid);
            }

            getMinimumIncrement() {
                const increments = {
                    USD: 100,
                    INR: 1000,
                    EUR: 100,
                    GBP: 50,
                    AED: 200,
                    SGD: 100,
                    CNY: 500,
                    JPY: 10000
                };
                return increments[this.currentCurrency] || 100;
            }

            showBidConfirmation(auctionId, amount) {
                const message = document.createElement("div");
                message.style.cssText = "position: fixed; top: 20px; right: 20px; background: linear-gradient(135deg, #22c55e, #16a34a); color: white; padding: 20px 30px; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); z-index: 1000; font-weight: 600;";
                message.innerHTML = "üéâ Bid Placed Successfully!<br><strong>" + this.formatCurrency(amount) + "</strong> on " + auctionId + "<br><small>SCF pre-approval: " + this.formatCurrency(Math.round(amount * 0.6)) + "</small>";
                document.body.appendChild(message);
                
                setTimeout(() => {
                    message.remove();
                }, 5000);
            }

            renderBidHistory() {
                const bidHistoryContainer = document.getElementById("bidHistory");
                const recentBids = this.bidHistory.slice(0, 10);
                
                if (recentBids.length === 0) {
                    bidHistoryContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;"><div style="font-size: 2rem; margin-bottom: 10px;">üìà</div><div>No recent bids</div></div>';
                    return;
                }
                
                bidHistoryContainer.innerHTML = recentBids.map(bid => {
                    const timeAgo = this.getTimeAgo(bid.time);
                    
                    return '<div class="bid-item">' +
                        '<div class="bidder-info">' +
                            '<div class="bidder-avatar">' + bid.bidder.charAt(0) + '</div>' +
                            '<div>' +
                                '<div class="bidder-name">' + bid.bidder + '</div>' +
                                '<div class="bid-time">' + timeAgo + '</div>' +
                            '</div>' +
                        '</div>' +
                        '<div>' +
                            '<div class="bid-amount-small">' + this.formatCurrency(bid.amount) + '</div>' +
                            '<div style="font-size: 0.8rem; color: #666;">' + bid.auctionId + '</div>' +
                        '</div>' +
                    '</div>';
                }).join("");
            }

            renderWatchlist() {
                const watchlistContainer = document.getElementById("watchlist");
                
                if (this.watchlist.length === 0) {
                    watchlistContainer.innerHTML = '<div style="text-align: center; padding: 20px; color: #666;"><div style="font-size: 2rem; margin-bottom: 10px;">‚≠ê</div><div>No items in watchlist</div><div style="font-size: 0.9rem; margin-top: 5px;">Click ‚òÜ to add auctions</div></div>';
                    return;
                }
                
                watchlistContainer.innerHTML = this.watchlist.map(item => {
                    const auction = this.auctions.find(a => a.id === item.auctionId);
                    if (!auction) return "";
                    
                    return '<div class="watchlist-item">' +
                        '<div class="watchlist-info">' +
                            '<div class="watchlist-title">' + auction.title.substring(0, 30) + '...</div>' +
                            '<div class="watchlist-price">' + this.formatCurrency(auction.currentBid) + '</div>' +
                        '</div>' +
                        '<button class="remove-watchlist" onclick="toggleWatchlist(\'' + auction.id + '\')">Remove</button>' +
                    '</div>';
                }).join("");
            }

            toggleWatchlist(auctionId) {
                const existingIndex = this.watchlist.findIndex(w => w.auctionId === auctionId);
                
                if (existingIndex >= 0) {
                    this.watchlist.splice(existingIndex, 1);
                } else {
                    this.watchlist.push({
                        auctionId: auctionId,
                        addedTime: new Date()
                    });
                }
                
                this.renderAuctions();
                this.renderWatchlist();
            }

            getTimeAgo(date) {
                const now = new Date();
                const diff = now - date;
                const minutes = Math.floor(diff / (1000 * 60));
                
                if (minutes < 1) return "Just now";
                if (minutes < 60) return minutes + "m ago";
                
                const hours = Math.floor(minutes / 60);
                if (hours < 24) return hours + "h ago";
                
                const days = Math.floor(hours / 24);
                return days + "d ago";
            }
        }

        // Global functions
        function startBidding(auctionId) {
            window.auctionPlatform.startBidding(auctionId);
        }

        function quickBid(increment) {
            window.auctionPlatform.quickBid(increment);
        }

        function placeBid() {
            window.auctionPlatform.placeBid();
        }

        function toggleWatchlist(auctionId) {
            window.auctionPlatform.toggleWatchlist(auctionId);
        }

        function viewDetails(auctionId) {
            const auction = window.auctionPlatform.auctions.find(a => a.id === auctionId);
            if (auction) {
                alert("üìã Auction Details - " + auction.id + "\n\nTitle: " + auction.title + "\nCategory: " + auction.category + "\nGrade: " + auction.grade + "\nOriginal Value: " + window.auctionPlatform.formatCurrency(auction.originalValue) + "\nReserve Price: " + window.auctionPlatform.formatCurrency(auction.reservePrice) + "\nCurrent Bid: " + window.auctionPlatform.formatCurrency(auction.currentBid) + "\nDamage Type: " + auction.damageType + "\nLocation: " + auction.location + "\nContainer: " + auction.containerNumber + "\nPhotos: " + auction.photos + " available\nBids: " + auction.bidCount + "\nStatus: " + auction.status + "\n\nSCF Available: " + (auction.scfAvailable ? "Yes" : "No"));
            }
        }

        function setReminder(auctionId) {
            alert("‚è∞ Reminder Set!\n\nYou'll receive notifications:\n‚Ä¢ 1 hour before auction starts\n‚Ä¢ 15 minutes before auction starts\n‚Ä¢ When auction goes live\n\nAuction: " + auctionId);
        }

        function createAuction() {
            alert("üè∫ Create New Auction\n\nThis will redirect to the auction creation module where you can:\n‚Ä¢ Upload damage assessment details\n‚Ä¢ Set reserve prices\n‚Ä¢ Schedule auction timing\n‚Ä¢ Add photos and documentation\n‚Ä¢ Configure SCF eligibility");
        }

        // Initialize the auction platform
        window.auctionPlatform = new AuctionPlatform();
    </script>
</body>
</html>Bidder: "TechBuyer123",
                        scfAvailable: true
                    },
                    {
                        id: "AUC-2024-002",
                        title: "Designer Clothing Lot - Fire Damage",
                        category: "textiles",
                        grade: "C",
                        damageType: "Fire Damage",
                        originalValue: 9600,
                        reservePrice: 3840,
                        currentBid: 0,
                        bidCount: 0,
                        status: "upcoming",
                        endTime: new Date(Date.now() + 6 * 60 * 60 * 1000),
                        location: "Chennai Port",
                        containerNumber: "MSCU9876543",
                        photos: 15,
                        leadingBidder: null,
                        scfAvailable: true
                    },
                    {
                        id: "AUC-2024-003",
                        title: "Industrial Machinery Parts - Physical Damage",
                        category: "machinery",
                        grade: "A",
                        damageType: "Physical Damage",
                        originalValue: 60000,
                        reservePrice: 42000,
                        currentBid: 46200,
                        bidCount: 8,
                        status: "ending-soon",
                        endTime: new Date(Date.now() + 15 * 60 * 1000),
                        location: "Delhi ICD",
                        containerNumber: "OOLU5555555",
                        photos: 12,
                        leading