<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DamageEx - Global Admin Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px 35px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .header-left h1 {
            font-size: 2rem;
            color: #333;
            margin-bottom: 5px;
        }

        .header-left p {
            color: #666;
        }

        .header-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .currency-selector {
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            font-weight: 600;
            color: #667eea;
        }

        .time-range-selector {
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            font-weight: 600;
            color: #333;
        }

        .nav-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .nav-btn.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .nav-btn.secondary {
            background: rgba(255, 255, 255, 0.8);
            color: #333;
            border: 2px solid #e1e5e9;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }

        .kpi-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .kpi-card:hover {
            transform: translateY(-3px);
        }

        .kpi-icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .kpi-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .kpi-label {
            color: #666;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .kpi-change {
            font-size: 0.8rem;
            font-weight: 600;
            padding: 3px 8px;
            border-radius: 12px;
        }

        .kpi-change.positive {
            background: #dcfce7;
            color: #166534;
        }

        .kpi-change.negative {
            background: #fed7d7;
            color: #c53030;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .charts-panel {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 25px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chart-container {
            height: 350px;
            background: #f8fafc;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }

        .chart-placeholder {
            text-align: center;
        }

        .mock-chart {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            position: relative;
        }

        .chart-bars {
            display: flex;
            align-items: end;
            gap: 8px;
            height: 200px;
            margin-bottom: 20px;
        }

        .chart-bar {
            width: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 4px 4px 0 0;
            transition: all 0.3s ease;
        }

        .chart-bar:hover {
            background: linear-gradient(135deg, #5b6fd8, #6b43aa);
        }

        .chart-line {
            width: 100%;
            height: 200px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 150'%3E%3Cpath d='M0,100 Q50,50 100,75 T200,50 T300,80' stroke='%23667eea' stroke-width='3' fill='none'/%3E%3C/svg%3E") no-repeat center;
            background-size: contain;
            margin-bottom: 20px;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .sidebar-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .sidebar-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .region-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .region-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .region-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .region-flag {
            font-size: 1.5rem;
        }

        .region-details h4 {
            font-weight: 600;
            color: #333;
            margin-bottom: 2px;
        }

        .region-details p {
            font-size: 0.8rem;
            color: #666;
        }

        .region-stats {
            text-align: right;
        }

        .region-volume {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 2px;
        }

        .region-growth {
            font-size: 0.8rem;
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 8px;
        }

        .growth-positive {
            background: #dcfce7;
            color: #166534;
        }

        .growth-negative {
            background: #fed7d7;
            color: #c53030;
        }

        .alert-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-height: 300px;
            overflow-y: auto;
        }

        .alert-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .alert-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: white;
        }

        .alert-icon.critical {
            background: #ef4444;
        }

        .alert-icon.warning {
            background: #f59e0b;
        }

        .alert-icon.info {
            background: #3b82f6;
        }

        .alert-content {
            flex: 1;
        }

        .alert-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 3px;
        }

        .alert-description {
            font-size: 0.8rem;
            color: #666;
            line-height: 1.4;
        }

        .alert-time {
            font-size: 0.7rem;
            color: #999;
            margin-top: 5px;
        }

        .user-management {
            grid-column: 1 / -1;
        }

        .user-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
            margin-bottom: 25px;
        }

        .user-stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }

        .user-stat-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #667eea;
        }

        .user-stat-number {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .user-stat-label {
            color: #666;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .recent-activities {
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-avatar {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .activity-content {
            flex: 1;
        }

        .activity-text {
            font-weight: 600;
            color: #333;
            margin-bottom: 3px;
        }

        .activity-details {
            font-size: 0.8rem;
            color: #666;
        }

        .activity-time {
            font-size: 0.8rem;
            color: #999;
            text-align: right;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .quick-action-btn {
            padding: 20px;
            border: none;
            border-radius: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .quick-action-btn.primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .quick-action-btn.success {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
        }

        .quick-action-btn.warning {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }

        .quick-action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }

        .action-icon {
            font-size: 2rem;
        }

        .action-text {
            font-size: 1rem;
        }

        @media (max-width: 1400px) {
            .kpi-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
            
            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .sidebar {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .kpi-grid {
                grid-template-columns: 1fr;
            }
            
            .user-stats {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .quick-actions {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <h1>‚öôÔ∏è Global Admin Dashboard</h1>
                <p>Platform oversight, analytics, and system management</p>
            </div>
            <div class="header-controls">
                <select class="currency-selector" id="currencySelector">
                    <option value="USD">üá∫üá∏ USD</option>
                    <option value="INR" selected>üáÆüá≥ INR</option>
                    <option value="EUR">üá™üá∫ EUR</option>
                    <option value="GBP">üá¨üáß GBP</option>
                    <option value="AED">üá¶üá™ AED</option>
                    <option value="SGD">üá∏üá¨ SGD</option>
                    <option value="CNY">üá®üá≥ CNY</option>
                    <option value="JPY">üáØüáµ JPY</option>
                </select>
                <select class="time-range-selector" id="timeRange">
                    <option value="24h">Last 24 Hours</option>
                    <option value="7d" selected>Last 7 Days</option>
                    <option value="30d">Last 30 Days</option>
                    <option value="90d">Last 90 Days</option>
                    <option value="1y">Last Year</option>
                </select>
                <a href="#" class="nav-btn secondary" onclick="exportReports()">üìä Export Reports</a>
                <a href="#" class="nav-btn primary" onclick="systemSettings()">‚öôÔ∏è Settings</a>
            </div>
        </div>

        <div class="kpi-grid">
            <div class="kpi-card">
                <div class="kpi-icon">üè∫</div>
                <div class="kpi-number" id="totalAuctions">1,247</div>
                <div class="kpi-label">Total Auctions</div>
                <div class="kpi-change positive">+12.5%</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üë•</div>
                <div class="kpi-number" id="activeUsers">8,543</div>
                <div class="kpi-label">Active Users</div>
                <div class="kpi-change positive">+8.3%</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üí∞</div>
                <div class="kpi-number" id="totalVolume">‚Çπ45.2Cr</div>
                <div class="kpi-label">Transaction Volume</div>
                <div class="kpi-change positive">+15.7%</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üí≥</div>
                <div class="kpi-number" id="scfLoans">‚Çπ12.8Cr</div>
                <div class="kpi-label">SCF Disbursed</div>
                <div class="kpi-change positive">+22.1%</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üìä</div>
                <div class="kpi-number" id="defaultRate">2.3%</div>
                <div class="kpi-label">Default Rate</div>
                <div class="kpi-change negative">+0.2%</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-icon">üåç</div>
                <div class="kpi-number" id="countries">12</div>
                <div class="kpi-label">Countries</div>
                <div class="kpi-change positive">+2</div>
            </div>
        </div>

        <div class="main-grid">
            <div class="charts-panel">
                <div class="card">
                    <div class="section-title">
                        <span>üìà</span> Transaction Volume Trends
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="chart-line"></div>
                            <p>Revenue trending upward with 15.7% growth this month</p>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="section-title">
                        <span>üè∫</span> Auction Performance
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="chart-bars">
                                <div class="chart-bar" style="height: 60%;"></div>
                                <div class="chart-bar" style="height: 80%;"></div>
                                <div class="chart-bar" style="height: 45%;"></div>
                                <div class="chart-bar" style="height: 90%;"></div>
                                <div class="chart-bar" style="height: 70%;"></div>
                                <div class="chart-bar" style="height: 85%;"></div>
                                <div class="chart-bar" style="height: 95%;"></div>
                            </div>
                            <p>Average auction success rate: 87.3% (‚Üë5.2%)</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <span>üåç</span> Global Regions
                    </div>
                    
                    <div class="region-list">
                        <div class="region-item">
                            <div class="region-info">
                                <div class="region-flag">üáÆüá≥</div>
                                <div class="region-details">
                                    <h4>India</h4>
                                    <p>Mumbai, Delhi, Chennai</p>
                                </div>
                            </div>
                            <div class="region-stats">
                                <div class="region-volume">‚Çπ28.5Cr</div>
                                <div class="region-growth growth-positive">+18.2%</div>
                            </div>
                        </div>
                        <div class="region-item">
                            <div class="region-info">
                                <div class="region-flag">üá¶üá™</div>
                                <div class="region-details">
                                    <h4>UAE</h4>
                                    <p>Dubai, Abu Dhabi</p>
                                </div>
                            </div>
                            <div class="region-stats">
                                <div class="region-volume">‚Çπ8.7Cr</div>
                                <div class="region-growth growth-positive">+12.5%</div>
                            </div>
                        </div>
                        <div class="region-item">
                            <div class="region-info">
                                <div class="region-flag">üá∏üá¨</div>
                                <div class="region-details">
                                    <h4>Singapore</h4>
                                    <p>Port of Singapore</p>
                                </div>
                            </div>
                            <div class="region-stats">
                                <div class="region-volume">‚Çπ5.2Cr</div>
                                <div class="region-growth growth-positive">+8.9%</div>
                            </div>
                        </div>
                        <div class="region-item">
                            <div class="region-info">
                                <div class="region-flag">üá∫üá∏</div>
                                <div class="region-details">
                                    <h4>USA</h4>
                                    <p>New York, Los Angeles</p>
                                </div>
                            </div>
                            <div class="region-stats">
                                <div class="region-volume">‚Çπ2.8Cr</div>
                                <div class="region-growth growth-negative">-2.1%</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-card">
                    <div class="sidebar-title">
                        <span>üö®</span> System Alerts
                    </div>
                    
                    <div class="alert-list">
                        <div class="alert-item">
                            <div class="alert-icon critical">‚ùó</div>
                            <div class="alert-content">
                                <div class="alert-title">High Default Rate - Mumbai</div>
                                <div class="alert-description">SCF default rate increased to 4.2% in Mumbai region. Requires immediate attention.</div>
                                <div class="alert-time">15 minutes ago</div>
                            </div>
                        </div>
                        <div class="alert-item">
                            <div class="alert-icon warning">‚ö†Ô∏è</div>
                            <div class="alert-content">
                                <div class="alert-title">Server Load High</div>
                                <div class="alert-description">Mumbai data center at 85% capacity. Consider scaling up resources.</div>
                                <div class="alert-time">1 hour ago</div>
                            </div>
                        </div>
                        <div class="alert-item">
                            <div class="alert-icon info">‚ÑπÔ∏è</div>
                            <div class="alert-content">
                                <div class="alert-title">New Partner Integration</div>
                                <div class="alert-description">FedEx logistics integration completed successfully. Now available in 3 regions.</div>
                                <div class="alert-time">3 hours ago</div>
                            </div>
                        </div>
                        <div class="alert-item">
                            <div class="alert-icon warning">‚ö†Ô∏è</div>
                            <div class="alert-content">
                                <div class="alert-title">Regulatory Update</div>
                                <div class="alert-description">New RBI guidelines for digital lending effective next month. Review compliance.</div>
                                <div class="alert-time">1 day ago</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card user-management">
            <div class="section-title">
                <span>üë•</span> User Management & Activity
            </div>
            
            <div class="quick-actions">
                <button class="quick-action-btn primary" onclick="userManagement()">
                    <div class="action-icon">üë•</div>
                    <div class="action-text">Manage Users</div>
                </button>
                <button class="quick-action-btn success" onclick="auditLogs()">
                    <div class="action-icon">üìã</div>
                    <div class="action-text">Audit Logs</div>
                </button>
                <button class="quick-action-btn warning" onclick="systemHealth()">
                    <div class="action-icon">‚ù§Ô∏è</div>
                    <div class="action-text">System Health</div>
                </button>
            </div>
            
            <div class="user-stats">
                <div class="user-stat-card">
                    <div class="user-stat-icon">üè¢</div>
                    <div class="user-stat-number" id="chaUsers">1,245</div>
                    <div class="user-stat-label">CHA Users</div>
                </div>
                <div class="user-stat-card">
                    <div class="user-stat-icon">üõí</div>
                    <div class="user-stat-number" id="buyerUsers">6,543</div>
                    <div class="user-stat-label">Buyers</div>
                </div>
                <div class="user-stat-card">
                    <div class="user-stat-icon">ü§ù</div>
                    <div class="user-stat-number" id="thirdPartyUsers">156</div>
                    <div class="user-stat-label">Third Parties</div>
                </div>
                <div class="user-stat-card">
                    <div class="user-stat-icon">‚öôÔ∏è</div>
                    <div class="user-stat-number" id="adminUsers">23</div>
                    <div class="user-stat-label">Admins</div>
                </div>
            </div>
            
            <div class="section-title" style="font-size: 1.3rem; margin-top: 30px;">
                <span>üìä</span> Recent Platform Activity
            </div>
            
            <div class="recent-activities" id="recentActivities">
                <!-- Activities will be populated here -->
            </div>
        </div>
    </div>

    <script>
        class AdminDashboard {
            constructor() {
                this.currentCurrency = 'INR';
                this.timeRange = '7d';
                this.exchangeRates = this.loadExchangeRates();
                this.activities = this.loadRecentActivities();
                this.init();
            }

            init() {
                this.bindEvents();
                this.renderActivities();
                this.startRealTimeUpdates();
                this.updateKPIs();
            }

            bindEvents() {
                document.getElementById('currencySelector').addEventListener('change', (e) => {
                    this.changeCurrency(e.target.value);
                });
                
                document.getElementById('timeRange').addEventListener('change', (e) => {
                    this.changeTimeRange(e.target.value);
                });
            }

            loadExchangeRates() {
                return {
                    USD: 1.0,
                    INR: 83.25,
                    EUR: 0.85,
                    GBP: 0.73,
                    AED: 3.67,
                    SGD: 1.35,
                    CNY: 7.15,
                    JPY: 150.0
                };
            }

            getCurrencySymbol(currency) {
                const symbols = {
                    USD: ',
                    INR: '‚Çπ',
                    EUR: '‚Ç¨',
                    GBP: '¬£',
                    AED: 'ÿØ.ÿ•',
                    SGD: 'S,
                    CNY: '¬•',
                    JPY: '¬•'
                };
                return symbols[currency] || currency;
            }

            convertCurrency(amount, fromCurrency = 'USD', toCurrency = null) {
                if (!toCurrency) toCurrency = this.currentCurrency;
                if (fromCurrency === toCurrency) return amount;
                
                const usdAmount = amount / this.exchangeRates[fromCurrency];
                return Math.round(usdAmount * this.exchangeRates[toCurrency]);
            }

            formatCurrency(amount, currency = null) {
                if (!currency) currency = this.currentCurrency;
                const symbol = this.getCurrencySymbol(currency);
                const convertedAmount = this.convertCurrency(amount, 'USD', currency);
                
                if (currency === 'JPY') {
                    return `${symbol}${convertedAmount.toLocaleString()}`;
                } else if (currency === 'INR') {
                    return `${symbol}${convertedAmount.toLocaleString('en-IN')}`;
                } else {
                    return `${symbol}${convertedAmount.toLocaleString()}`;
                }
            }

            changeCurrency(newCurrency) {
                this.currentCurrency = newCurrency;
                this.updateKPIs();
            }

            changeTimeRange(newRange) {
                this.timeRange = newRange;
                this.updateKPIs();
                this.renderActivities();
            }

            updateKPIs() {
                // Update currency-dependent KPIs
                document.getElementById('totalVolume').textContent = this.formatCurrency(5432000); // $5.43M base
                document.getElementById('scfLoans').textContent = this.formatCurrency(1537000); // $1.54M base
            }

            loadRecentActivities() {
                return [
                    {
                        id: 1,
                        user: 'Mumbai CHA Services',
                        avatar: 'MC',
                        action: 'Created auction AUC-2024-157',
                        details: 'Electronics lot worth ‚Çπ2.5L',
                        time: new Date(Date.now() - 15 * 60 * 1000),
                        type: 'auction'
                    },
                    {
                        id: 2,
                        user: 'TechBuyer Solutions',
                        avatar: 'TB',
                        action: 'Won auction AUC-2024-155',
                        details: 'Bid amount: ‚Çπ18.5L with SCF financing',
                        time: new Date(Date.now() - 32 * 60 * 1000),
                        type: 'purchase'
                    },
                    {
                        id: 3,
                        user: 'Global Liquidation Partners',
                        avatar: 'GL',
                        action: 'Bulk purchase completed',
                        details: '25 lots acquired for ‚Çπ45.2L',
                        time: new Date(Date.now() - 58 * 60 * 1000),
                        type: 'bulk'
                    },
                    {
                        id: 4,
                        user: 'Chennai Port Authority',
                        avatar: 'CP',
                        action: 'Damage report submitted',
                        details: 'Container MSCU9876543 - Water damage',
                        time: new Date(Date.now() - 75 * 60 * 1000),
                        type: 'damage'
                    },
                    {
                        id: 5,
                        user: 'Delhi Import Co.',
                        avatar: 'DI',
                        action: 'SCF loan approved',
                        details: 'Amount: ‚Çπ12.5L at 15% APR',
                        time: new Date(Date.now() - 95 * 60 * 1000),
                        type: 'finance'
                    },
                    {
                        id: 6,
                        user: 'Bangalore Logistics',
                        avatar: 'BL',
                        action: 'Shipment delivered',
                        details: 'SHP-2024-089 delivered successfully',
                        time: new Date(Date.now() - 125 * 60 * 1000),
                        type: 'logistics'
                    },
                    {
                        id: 7,
                        user: 'UAE Trading Hub',
                        avatar: 'UT',
                        action: 'New user registration',
                        details: 'Third-party service provider',
                        time: new Date(Date.now() - 145 * 60 * 1000),
                        type: 'user'
                    },
                    {
                        id: 8,
                        user: 'System Admin',
                        avatar: 'SA',
                        action: 'Platform maintenance completed',
                        details: 'Mumbai data center upgrade',
                        time: new Date(Date.now() - 180 * 60 * 1000),
                        type: 'system'
                    }
                ];
            }

            renderActivities() {
                const activitiesContainer = document.getElementById('recentActivities');
                const filteredActivities = this.getFilteredActivities();

                if (filteredActivities.length === 0) {
                    activitiesContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #666;">
                            <div style="font-size: 3rem; margin-bottom: 15px;">üìä</div>
                            <h3>No recent activities</h3>
                            <p>Activity data will appear here as users interact with the platform</p>
                        </div>
                    `;
                    return;
                }

                activitiesContainer.innerHTML = filteredActivities.map(activity => {
                    return `
                        <div class="activity-item">
                            <div class="activity-avatar">${activity.avatar}</div>
                            <div class="activity-content">
                                <div class="activity-text">${activity.user}</div>
                                <div class="activity-details">
                                    <strong>${activity.action}</strong> ‚Ä¢ ${activity.details}
                                </div>
                            </div>
                            <div class="activity-time">${this.getTimeAgo(activity.time)}</div>
                        </div>
                    `;
                }).join('');
            }

            getFilteredActivities() {
                const now = new Date();
                const timeRanges = {
                    '24h': 24 * 60 * 60 * 1000,
                    '7d': 7 * 24 * 60 * 60 * 1000,
                    '30d': 30 * 24 * 60 * 60 * 1000,
                    '90d': 90 * 24 * 60 * 60 * 1000,
                    '1y': 365 * 24 * 60 * 60 * 1000
                };

                const cutoffTime = now - timeRanges[this.timeRange];
                return this.activities.filter(activity => activity.time >= cutoffTime);
            }

            getTimeAgo(date) {
                const now = new Date();
                const diff = now - date;
                const minutes = Math.floor(diff / (1000 * 60));
                
                if (minutes < 1) return 'Just now';
                if (minutes < 60) return `${minutes}m ago`;
                
                const hours = Math.floor(minutes / 60);
                if (hours < 24) return `${hours}h ago`;
                
                const days = Math.floor(hours / 24);
                if (days < 30) return `${days}d ago`;
                
                const months = Math.floor(days / 30);
                return `${months}mo ago`;
            }

            startRealTimeUpdates() {
                // Simulate real-time activity updates
                setInterval(() => {
                    this.addRandomActivity();
                }, 60000); // Add new activity every minute

                // Update KPIs every 30 seconds
                setInterval(() => {
                    this.updateRealTimeKPIs();
                }, 30000);
            }

            addRandomActivity() {
                const randomActivities = [
                    {
                        user: 'Auto Trader Inc',
                        avatar: 'AT',
                        action: 'Placed bid on AUC-' + Math.random().toString().substr(2, 6),
                        details: 'Automotive parts lot',
                        type: 'bid'
                    },
                    {
                        user: 'Express Logistics',
                        avatar: 'EL',
                        action: 'Shipment status updated',
                        details: 'In transit to destination',
                        type: 'logistics'
                    },
                    {
                        user: 'Smart Electronics',
                        avatar: 'SE',
                        action: 'SCF application submitted',
                        details: 'Requesting financing',
                        type: 'finance'
                    }
                ];

                const randomActivity = randomActivities[Math.floor(Math.random() * randomActivities.length)];
                const newActivity = {
                    id: Date.now(),
                    user: randomActivity.user,
                    avatar: randomActivity.avatar,
                    action: randomActivity.action,
                    details: randomActivity.details,
                    type: randomActivity.type,
                    time: new Date()
                };

                this.activities.unshift(newActivity);
                this.activities = this.activities.slice(0, 50); // Keep only last 50 activities
                this.renderActivities();
            }

            updateRealTimeKPIs() {
                // Simulate small changes in KPIs
                const totalAuctions = document.getElementById('totalAuctions');
                const activeUsers = document.getElementById('activeUsers');
                
                // Random small increments
                if (Math.random() > 0.7) {
                    totalAuctions.textContent = (parseInt(totalAuctions.textContent.replace(',', '')) + 1).toLocaleString();
                }
                
                if (Math.random() > 0.8) {
                    activeUsers.textContent = (parseInt(activeUsers.textContent.replace(',', '')) + Math.floor(Math.random() * 3)).toLocaleString();
                }
            }
        }

        // Global functions
        function exportReports() {
            alert('üìä Export Reports\n\nAvailable reports:\n\n‚Ä¢ Transaction Volume Report\n‚Ä¢ User Activity Analysis\n‚Ä¢ SCF Performance Metrics\n‚Ä¢ Regional Growth Analysis\n‚Ä¢ Audit & Compliance Report\n‚Ä¢ Financial Summary\n\nFormats: PDF, Excel, CSV\nScheduled reports: Daily, Weekly, Monthly\n\nSelect report type and format to continue...');
        }

        function systemSettings() {
            alert('‚öôÔ∏è System Settings\n\nConfiguration options:\n\n‚Ä¢ Platform Settings\n  - Currency preferences\n  - Regional configurations\n  - Feature toggles\n\n‚Ä¢ Security Settings\n  - Authentication policies\n  - Access controls\n  - Audit logging\n\n‚Ä¢ Integration Settings\n  - API configurations\n  - Third-party services\n  - Webhook endpoints\n\n‚Ä¢ Notification Settings\n  - Alert thresholds\n  - Email templates\n  - SMS configurations');
        }

        function userManagement() {
            alert('üë• User Management\n\nUser administration panel:\n\n‚Ä¢ Active Users: 8,543\n‚Ä¢ Pending Approvals: 23\n‚Ä¢ Suspended Accounts: 12\n‚Ä¢ KYC Pending: 156\n\nActions available:\n‚Ä¢ Approve/Reject registrations\n‚Ä¢ Suspend/Reactivate users\n‚Ä¢ Reset passwords\n‚Ä¢ Update user roles\n‚Ä¢ Export user data\n‚Ä¢ Bulk operations\n\nAccess user profiles and detailed analytics...');
        }

        function auditLogs() {
            alert('üìã Audit Logs\n\nSystem audit trail:\n\n‚Ä¢ Login/Logout events\n‚Ä¢ Transaction records\n‚Ä¢ Data modifications\n‚Ä¢ Admin actions\n‚Ä¢ Security events\n‚Ä¢ API access logs\n\nFilters available:\n‚Ä¢ Date range\n‚Ä¢ User type\n‚Ä¢ Action type\n‚Ä¢ Severity level\n\nExport logs for compliance reporting...');
        }

        function systemHealth() {
            alert('‚ù§Ô∏è System Health\n\nInfrastructure monitoring:\n\nüü¢ API Services: Healthy\nüü¢ Database: Optimal\nüü° Mumbai DC: 85% load\nüü¢ Payment Gateway: Operational\nüü¢ SCF Engine: Running\nüü° Backup Systems: Scheduled\n\nPerformance metrics:\n‚Ä¢ Response time: 120ms avg\n‚Ä¢ Uptime: 99.8%\n‚Ä¢ Error rate: 0.02%\n‚Ä¢ Throughput: 1.2K req/sec\n\nDetailed monitoring dashboard available...');
        }

        // Initialize the admin dashboard
        window.adminDashboard = new AdminDashboard();
    </script>
</body>
</html>