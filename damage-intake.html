<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DamageEx - Damaged Goods Recovery Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 20px 30px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 800;
            color: #667eea;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            padding: 10px 20px;
            border: 2px solid #e1e5e9;
            border-radius: 25px;
            background: white;
            color: #666;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .nav-btn.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-color: #667eea;
        }

        .nav-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }

        .main-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            min-height: 600px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .file-upload {
            border: 2px dashed #e1e5e9;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-upload:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .file-upload.has-files {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.05);
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-success {
            background: #22c55e;
            color: white;
        }

        .btn-warning {
            background: #f59e0b;
            color: white;
        }

        .btn-secondary {
            background: #f8fafc;
            color: #333;
            border: 1px solid #e1e5e9;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e1e5e9;
            border-radius: 4px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .status-card {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #667eea;
        }

        .status-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .status-details {
            color: #666;
            font-size: 14px;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .service-card {
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .service-card:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .service-card.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .service-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .service-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }

        .service-price {
            font-size: 1.2rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .service-description {
            font-size: 14px;
            color: #666;
        }

        .calculation-section {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border-radius: 12px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #0891b2;
        }

        .calculation-title {
            font-weight: 600;
            color: #0891b2;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .calculation-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px 0;
        }

        .calculation-row.total {
            border-top: 2px solid #0891b2;
            font-weight: bold;
            color: #0891b2;
            font-size: 1.1rem;
        }

        .workflow-steps {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
            position: relative;
        }

        .workflow-line {
            position: absolute;
            top: 25px;
            left: 50px;
            right: 50px;
            height: 3px;
            background: #e1e5e9;
            z-index: 1;
        }

        .workflow-progress {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .workflow-step {
            background: white;
            border: 3px solid #e1e5e9;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .workflow-step.completed {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-color: #667eea;
            color: white;
        }

        .workflow-step.active {
            border-color: #667eea;
            color: #667eea;
            animation: pulse 2s infinite;
        }

        .step-label {
            position: absolute;
            top: 60px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
            color: #666;
        }

        .tracking-updates {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 15px;
        }

        .tracking-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .tracking-item:last-child {
            border-bottom: none;
        }

        .tracking-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            flex-shrink: 0;
        }

        .tracking-icon.success {
            background: #22c55e;
        }

        .tracking-icon.warning {
            background: #f59e0b;
        }

        .tracking-icon.info {
            background: #667eea;
        }

        .tracking-icon.truck {
            background: #0891b2;
        }

        .tracking-content {
            flex: 1;
        }

        .tracking-title {
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .tracking-description {
            color: #666;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .tracking-time {
            color: #999;
            font-size: 12px;
        }

        .alert-box {
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .alert-success {
            background: #dcfce7;
            border: 1px solid #22c55e;
            color: #166534;
        }

        .alert-warning {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            color: #92400e;
        }

        .alert-info {
            background: #dbeafe;
            border: 1px solid #667eea;
            color: #1e40af;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: flex-end;
        }

        @media (max-width: 768px) {
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .workflow-steps {
                flex-wrap: wrap;
                gap: 20px;
            }
            
            .workflow-line {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <span>📦</span>
                <span>DamageEx</span>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn active" onclick="showSection('intake')">📋 New Cargo</button>
                <button class="nav-btn" onclick="showSection('services')">🚛 Services</button>
                <button class="nav-btn" onclick="showSection('tracking')">📍 Tracking</button>
                <button class="nav-btn" onclick="showSection('auction')">🏺 Auction</button>
                <button class="nav-btn" onclick="showSection('scf')">💳 SCF</button>
            </div>
        </div>

        <div class="main-content">
            <!-- Cargo Intake Section -->
            <div class="section active" id="intake">
                <div class="section-title">
                    <span>📋</span>
                    Damaged Cargo Intake
                </div>

                <div class="workflow-steps">
                    <div class="workflow-line">
                        <div class="workflow-progress" style="width: 20%"></div>
                    </div>
                    <div class="workflow-step completed">
                        <span>📋</span>
                        <div class="step-label">Basic Info</div>
                    </div>
                    <div class="workflow-step active">
                        <span>📸</span>
                        <div class="step-label">Documentation</div>
                    </div>
                    <div class="workflow-step">
                        <span>🔍</span>
                        <div class="step-label">Assessment</div>
                    </div>
                    <div class="workflow-step">
                        <span>💰</span>
                        <div class="step-label">Valuation</div>
                    </div>
                    <div class="workflow-step">
                        <span>✅</span>
                        <div class="step-label">Complete</div>
                    </div>
                </div>

                <form id="cargoForm">
                    <div class="form-grid">
                        <div>
                            <div class="form-group">
                                <label class="form-label">Container Number *</label>
                                <input type="text" class="form-input" id="containerNumber" placeholder="TGHU1234567" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Cargo Type *</label>
                                <select class="form-select" id="cargoType" required>
                                    <option value="">Select cargo type</option>
                                    <option value="electronics">Electronics</option>
                                    <option value="textiles">Textiles</option>
                                    <option value="machinery">Machinery</option>
                                    <option value="automotive">Automotive Parts</option>
                                    <option value="chemicals">Chemicals</option>
                                    <option value="food">Food Products</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Original Value (₹) *</label>
                                <input type="number" class="form-input" id="originalValue" placeholder="500000" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Damage Type *</label>
                                <select class="form-select" id="damageType" required>
                                    <option value="">Select damage type</option>
                                    <option value="water">Water Damage</option>
                                    <option value="fire">Fire Damage</option>
                                    <option value="physical">Physical Damage</option>
                                    <option value="contamination">Contamination</option>
                                    <option value="packaging">Packaging Issues</option>
                                </select>
                            </div>
                        </div>
                        <div>
                            <div class="form-group">
                                <label class="form-label">Location *</label>
                                <select class="form-select" id="location" required>
                                    <option value="">Select location</option>
                                    <option value="mumbai">Mumbai Port</option>
                                    <option value="chennai">Chennai Port</option>
                                    <option value="delhi">Delhi ICD</option>
                                    <option value="bangalore">Bangalore Hub</option>
                                    <option value="cochin">Cochin Port</option>
                                    <option value="kolkata">Kolkata Port</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Weight (kg)</label>
                                <input type="number" class="form-input" id="weight" placeholder="1000">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Quantity</label>
                                <input type="number" class="form-input" id="quantity" placeholder="100">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Damage Severity</label>
                                <select class="form-select" id="severity">
                                    <option value="minor">Minor (10-30% damage)</option>
                                    <option value="moderate">Moderate (30-60% damage)</option>
                                    <option value="major">Major (60%+ damage)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Damage Description</label>
                        <textarea class="form-textarea" id="damageDescription" placeholder="Describe the nature and extent of damage..."></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Upload Documents & Photos</label>
                        <div class="file-upload" id="fileUpload">
                            <div>📁 Drop files here or click to upload</div>
                            <div style="font-size: 12px; color: #666; margin-top: 8px;">
                                Invoice, Bill of Lading, Photos (Max 10MB each)
                            </div>
                            <input type="file" multiple hidden id="fileInput" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx">
                        </div>
                        <div id="fileList"></div>
                    </div>

                    <div class="action-buttons">
                        <button type="button" class="btn btn-secondary">Save Draft</button>
                        <button type="submit" class="btn btn-primary">Submit for Assessment</button>
                    </div>
                </form>
            </div>

            <!-- Services Section -->
            <div class="section" id="services">
                <div class="section-title">
                    <span>🚛</span>
                    Logistics & Services
                </div>

                <div class="status-card">
                    <div class="status-title">Cargo: TGHU1234567 - Electronics Consignment</div>
                    <div class="status-details">Location: Mumbai Port • Status: Ready for Service Selection</div>
                </div>

                <div class="services-grid">
                    <div class="service-card" onclick="selectService('inspection')">
                        <div class="service-icon">🔍</div>
                        <div class="service-title">Professional Inspection</div>
                        <div class="service-price">₹15,000</div>
                        <div class="service-description">Certified damage assessment and documentation</div>
                    </div>

                    <div class="service-card" onclick="selectService('warehousing')">
                        <div class="service-icon">🏪</div>
                        <div class="service-title">Secure Warehousing</div>
                        <div class="service-price">₹500/day</div>
                        <div class="service-description">Climate-controlled storage with insurance</div>
                    </div>

                    <div class="service-card" onclick="selectService('transportation')">
                        <div class="service-icon">🚛</div>
                        <div class="service-title">Transportation</div>
                        <div class="service-price">₹25/km</div>
                        <div class="service-description">GPS-tracked delivery to auction center</div>
                    </div>

                    <div class="service-card" onclick="selectService('sorting')">
                        <div class="service-icon">📦</div>
                        <div class="service-title">Sorting & Cataloging</div>
                        <div class="service-price">₹5,000</div>
                        <div class="service-description">Professional sorting and inventory creation</div>
                    </div>

                    <div class="service-card" onclick="selectService('photography')">
                        <div class="service-icon">📸</div>
                        <div class="service-title">Professional Photography</div>
                        <div class="service-price">₹8,000</div>
                        <div class="service-description">High-quality photos for auction listing</div>
                    </div>

                    <div class="service-card" onclick="selectService('refurbishment')">
                        <div class="service-icon">🔧</div>
                        <div class="service-title">Basic Refurbishment</div>
                        <div class="service-price">₹20,000</div>
                        <div class="service-description">Minor repairs to increase recovery value</div>
                    </div>
                </div>

                <div class="calculation-section" id="serviceCalculation" style="display: none;">
                    <div class="calculation-title">Service Cost Breakdown</div>
                    <div id="selectedServices"></div>
                    <div class="calculation-row total">
                        <span>Total Service Cost:</span>
                        <span id="totalCost">₹0</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" onclick="clearServices()">Clear Selection</button>
                    <button type="button" class="btn btn-primary" onclick="bookServices()">Book Selected Services</button>
                </div>
            </div>

            <!-- Tracking Section -->
            <div class="section" id="tracking">
                <div class="section-title">
                    <span>📍</span>
                    Live Tracking & Updates
                </div>

                <div class="status-card">
                    <div class="status-title">Container: TGHU1234567</div>
                    <div class="status-details">
                        Current Status: <strong style="color: #0891b2;">In Transit to Warehouse</strong> • 
                        ETA: <strong>Tomorrow 2:00 PM</strong>
                    </div>
                </div>

                <div class="progress-bar">
                    <div class="progress-fill" style="width: 60%"></div>
                </div>

                <div class="tracking-updates">
                    <div class="tracking-item">
                        <div class="tracking-icon truck">🚛</div>
                        <div class="tracking-content">
                            <div class="tracking-title">En Route - Highway 48, Navi Mumbai</div>
                            <div class="tracking-description">
                                Driver: Rajesh Kumar • Vehicle: MH-01-AB-1234 • 
                                Distance remaining: 45 km • ETA: 2:15 PM
                            </div>
                            <div class="tracking-time">Live Update - 2 minutes ago</div>
                        </div>
                    </div>

                    <div class="tracking-item">
                        <div class="tracking-icon success">✅</div>
                        <div class="tracking-content">
                            <div class="tracking-title">Picked up from Mumbai Port</div>
                            <div class="tracking-description">
                                Container loaded successfully. All documentation verified.
                                GPS tracking activated.
                            </div>
                            <div class="tracking-time">Today, 11:30 AM</div>
                        </div>
                    </div>

                    <div class="tracking-item">
                        <div class="tracking-icon success">🔍</div>
                        <div class="tracking-content">
                            <div class="tracking-title">Professional Inspection Completed</div>
                            <div class="tracking-description">
                                Certified inspector assessed damage. Recovery value estimated at 65% of original value.
                                Report generated and uploaded.
                            </div>
                            <div class="tracking-time">Today, 9:15 AM</div>
                        </div>
                    </div>

                    <div class="tracking-item">
                        <div class="tracking-icon info">📋</div>
                        <div class="tracking-content">
                            <div class="tracking-title">Services Booked</div>
                            <div class="tracking-description">
                                Selected services: Inspection, Warehousing, Transportation, Photography
                                Total cost: ₹48,500 • Payment confirmed
                            </div>
                            <div class="tracking-time">Yesterday, 4:45 PM</div>
                        </div>
                    </div>

                    <div class="tracking-item">
                        <div class="tracking-icon info">📄</div>
                        <div class="tracking-content">
                            <div class="tracking-title">Documentation Verified</div>
                            <div class="tracking-description">
                                Bill of Lading, Commercial Invoice, and Damage Photos uploaded and verified.
                                Legal consent letter generated.
                            </div>
                            <div class="tracking-time">Yesterday, 2:20 PM</div>
                        </div>
                    </div>

                    <div class="tracking-item">
                        <div class="tracking-icon success">📦</div>
                        <div class="tracking-content">
                            <div class="tracking-title">Cargo Intake Completed</div>
                            <div class="tracking-description">
                                Container TGHU1234567 registered in system. Damage assessment initiated.
                            </div>
                            <div class="tracking-time">Yesterday, 10:00 AM</div>
                        </div>
                    </div>
                </div>

                <div class="alert-box alert-info">
                    <span>📱</span>
                    <div>
                        <strong>Real-time Updates:</strong> You'll receive SMS and email notifications for all major updates.
                        Track your cargo 24/7 with our mobile app.
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" onclick="downloadReport()">📄 Download Report</button>
                    <button type="button" class="btn btn-primary" onclick="contactDriver()">📞 Contact Driver</button>
                </div>
            </div>

            <!-- Auction Section -->
            <div class="section" id="auction">
                <div class="section-title">
                    <span>🏺</span>
                    Live Auction
                </div>

                <div class="status-card">
                    <div class="status-title">Your Cargo is Now Live for Bidding!</div>
                    <div class="status-details">
                        Container: TGHU1234567 • Electronics - Water Damage • 
                        <strong style="color: #22c55e;">Current Bid: ₹3.25L</strong>
                    </div>
                </div>

                <div class="form-grid">
                    <div>
                        <div class="calculation-section">
                            <div class="calculation-title">Auction Performance</div>
                            <div class="calculation-row">
                                <span>Reserve Price:</span>
                                <span>₹2.50L</span>
                            </div>
                            <div class="calculation-row">
                                <span>Current Highest Bid:</span>
                                <span>₹3.25L</span>
                            </div>
                            <div class="calculation-row">
                                <span>Total Bidders:</span>
                                <span>8 Active</span>
                            </div>
                            <div class="calculation-row">
                                <span>Time Remaining:</span>
                                <span id="auctionTimer">6h 24m 15s</span>
                            </div>
                            <div class="calculation-row total">
                                <span>Your Recovery (After Fees):</span>
                                <span>₹2.93L</span>
                            </div>
                        </div>

                        <div class="alert-box alert-success">
                            <span>🎉</span>
                            <div>
                                <strong>Great News!</strong> Your cargo is performing 30% above reserve price! 
                                Strong interest from electronics dealers.
                            </div>
                        </div>
                    </div>
                    <div>
                        <div style="background: white; border: 2px solid #e1e5e9; border-radius: 12px; padding: 20px;">
                            <h3 style="margin-bottom: 15px; color: #333;">Recent Bidding Activity</h3>
                            <div style="max-height: 200px; overflow-y: auto;">
                                <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f0f0f0;">
                                    <span>ElectronicsDealer99</span>
                                    <span style="font-weight: bold; color: #667eea;">₹3.25L</span>
                                    <span style="font-size: 12px; color: #666;">2 min ago</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f0f0f0;">
                                    <span>TechBuyer2024</span>
                                    <span style="font-weight: bold; color: #667eea;">₹3.15L</span>
                                    <span style="font-size: 12px; color: #666;">8 min ago</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f0f0f0;">
                                    <span>MumbaiTrader</span>
                                    <span style="font-weight: bold; color: #667eea;">₹3.05L</span>
                                    <span style="font-size: 12px; color: #666;">15 min ago</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #f0f0f0;">
                                    <span>RecoveryExpert</span>
                                    <span style="font-weight: bold; color: #667eea;">₹2.95L</span>
                                    <span style="font-size: 12px; color: #666;">22 min ago</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                                    <span>ValueFinder</span>
                                    <span style="font-weight: bold; color: #667eea;">₹2.80L</span>
                                    <span style="font-size: 12px; color: #666;">35 min ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" onclick="viewFullAuction()">👀 View Full Auction</button>
                    <button type="button" class="btn btn-warning" onclick="setReserveIncrease()">📈 Increase Reserve</button>
                    <button type="button" class="btn btn-success" onclick="acceptCurrentBid()">✅ Accept Current Bid</button>
                </div>
            </div>

            <!-- SCF Section -->
            <div class="section" id="scf">
                <div class="section-title">
                    <span>💳</span>
                    Supply Chain Finance
                </div>

                <div class="status-card">
                    <div class="status-title">SCF Application Status: Pre-Approved</div>
                    <div class="status-details">
                        Credit Score: 720 (Good) • Available Financing: Up to 70% of recovery value
                    </div>
                </div>

                <div class="form-grid">
                    <div>
                        <div class="form-group">
                            <label class="form-label">Expected Recovery Amount</label>
                            <input type="text" class="form-input" value="₹2,93,000" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Requested SCF Amount</label>
                            <input type="number" class="form-input" id="scfAmount" placeholder="200000" max="205100">
                            <div style="font-size: 12px; color: #666; margin-top: 5px;">
                                Maximum: ₹2,05,100 (70% of expected recovery)
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Repayment Period</label>
                            <select class="form-select" id="repaymentPeriod">
                                <option value="30">30 days (12% APR)</option>
                                <option value="60">60 days (14% APR)</option>
                                <option value="90">90 days (16% APR)</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <div class="calculation-section">
                            <div class="calculation-title">SCF Calculation</div>
                            <div class="calculation-row">
                                <span>SCF Amount:</span>
                                <span id="scfAmountDisplay">₹0</span>
                            </div>
                            <div class="calculation-row">
                                <span>Interest (30 days @ 12%):</span>
                                <span id="interestAmount">₹0</span>
                            </div>
                            <div class="calculation-row">
                                <span>Processing Fee (1%):</span>
                                <span id="processingFee">₹0</span>
                            </div>
                            <div class="calculation-row total">
                                <span>Amount You Receive Today:</span>
                                <span id="netAmount">₹0</span>
                            </div>
                            <div class="calculation-row">
                                <span>Repayment Amount:</span>
                                <span id="repaymentAmount">₹0</span>
                            </div>
                        </div>

                        <div class="alert-box alert-info">
                            <span>⚡</span>
                            <div>
                                <strong>Instant Approval:</strong> Based on your credit score and cargo value, 
                                you're pre-approved for immediate funding.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" onclick="saveSCFDraft()">Save for Later</button>
                    <button type="button" class="btn btn-primary" onclick="applySCF()">Apply for SCF</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">&times;</button>
            <div class="modal-title" id="modalTitle">Modal Title</div>
            <div id="modalBody">Modal content goes here</div>
            <div class="action-buttons">
                <button type="button" class="btn btn-secondary" onclick="closeModal()">Close</button>
                <button type="button" class="btn btn-primary" id="modalAction">Confirm</button>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let selectedServices = [];
        let cargoData = {};
        let currentSection = 'intake';

        // Section navigation
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.add('active');
            
            // Update navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            currentSection = sectionName;
        }

        // File upload functionality
        document.getElementById('fileUpload').addEventListener('click', function() {
            document.getElementById('fileInput').click();
        });

        document.getElementById('fileInput').addEventListener('change', function(e) {
            const files = e.target.files;
            const fileList = document.getElementById('fileList');
            const uploadArea = document.getElementById('fileUpload');
            
            if (files.length > 0) {
                uploadArea.classList.add('has-files');
                uploadArea.innerHTML = `<div>✅ ${files.length} file(s) selected</div>`;
                
                let fileListHTML = '<div style="margin-top: 15px;"><strong>Uploaded Files:</strong></div>';
                for (let file of files) {
                    fileListHTML += `<div style="padding: 5px 0; color: #666;">📄 ${file.name} (${(file.size / 1024 / 1024).toFixed(2)} MB)</div>`;
                }
                fileList.innerHTML = fileListHTML;
            }
        });

        // Form submission
        document.getElementById('cargoForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            cargoData = {
                containerNumber: document.getElementById('containerNumber').value,
                cargoType: document.getElementById('cargoType').value,
                originalValue: document.getElementById('originalValue').value,
                damageType: document.getElementById('damageType').value,
                location: document.getElementById('location').value,
                weight: document.getElementById('weight').value,
                quantity: document.getElementById('quantity').value,
                severity: document.getElementById('severity').value,
                description: document.getElementById('damageDescription').value
            };
            
            // Simulate processing
            showModal('Cargo Submitted Successfully!', `
                <div class="alert-box alert-success">
                    <span>✅</span>
                    <div>
                        <strong>Container ${cargoData.containerNumber} has been registered!</strong><br>
                        Your cargo intake is complete and has been assigned for professional assessment.
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <strong>Next Steps:</strong><br>
                    1. Professional inspection will be scheduled within 24 hours<br>
                    2. You'll receive SMS/email updates on progress<br>
                    3. Services selection will be available after inspection
                </div>
            `, 'Continue to Services', function() {
                showSection('services');
                closeModal();
            });
        });

        // Service selection
        function selectService(serviceId) {
            const serviceCard = event.target.closest('.service-card');
            
            if (serviceCard.classList.contains('selected')) {
                serviceCard.classList.remove('selected');
                selectedServices = selectedServices.filter(s => s.id !== serviceId);
            } else {
                serviceCard.classList.add('selected');
                
                const serviceData = getServiceData(serviceId);
                selectedServices.push(serviceData);
            }
            
            updateServiceCalculation();
        }

        function getServiceData(serviceId) {
            const services = {
                inspection: { id: 'inspection', name: 'Professional Inspection', price: 15000 },
                warehousing: { id: 'warehousing', name: 'Secure Warehousing', price: 500, unit: 'per day' },
                transportation: { id: 'transportation', name: 'Transportation', price: 25, unit: 'per km' },
                sorting: { id: 'sorting', name: 'Sorting & Cataloging', price: 5000 },
                photography: { id: 'photography', name: 'Professional Photography', price: 8000 },
                refurbishment: { id: 'refurbishment', name: 'Basic Refurbishment', price: 20000 }
            };
            return services[serviceId];
        }

        function updateServiceCalculation() {
            const calculationSection = document.getElementById('serviceCalculation');
            const selectedServicesDiv = document.getElementById('selectedServices');
            const totalCostDiv = document.getElementById('totalCost');
            
            if (selectedServices.length === 0) {
                calculationSection.style.display = 'none';
                return;
            }
            
            calculationSection.style.display = 'block';
            
            let html = '';
            let totalCost = 0;
            
            selectedServices.forEach(service => {
                let displayPrice = `₹${service.price.toLocaleString()}`;
                if (service.unit) {
                    displayPrice += ` ${service.unit}`;
                }
                
                html += `<div class="calculation-row">
                    <span>${service.name}:</span>
                    <span>${displayPrice}</span>
                </div>`;
                
                // For demo, assume standard quantities
                if (service.id === 'warehousing') {
                    totalCost += service.price * 30; // 30 days
                } else if (service.id === 'transportation') {
                    totalCost += service.price * 50; // 50 km
                } else {
                    totalCost += service.price;
                }
            });
            
            selectedServicesDiv.innerHTML = html;
            totalCostDiv.textContent = `₹${totalCost.toLocaleString()}`;
        }

        function clearServices() {
            selectedServices = [];
            document.querySelectorAll('.service-card').forEach(card => {
                card.classList.remove('selected');
            });
            updateServiceCalculation();
        }

        function bookServices() {
            if (selectedServices.length === 0) {
                alert('Please select at least one service');
                return;
            }
            
            const totalCost = document.getElementById('totalCost').textContent;
            showModal('Confirm Service Booking', `
                <div class="alert-box alert-warning">
                    <span>💳</span>
                    <div>
                        <strong>Total Cost: ${totalCost}</strong><br>
                        Payment will be processed immediately upon confirmation.
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <strong>Selected Services:</strong><br>
                    ${selectedServices.map(s => `• ${s.name}`).join('<br>')}
                </div>
            `, 'Confirm & Pay', function() {
                // Simulate payment processing
                setTimeout(() => {
                    showModal('Services Booked Successfully!', `
                        <div class="alert-box alert-success">
                            <span>✅</span>
                            <div>
                                <strong>Payment Confirmed!</strong><br>
                                All selected services have been booked and will be executed as per schedule.
                            </div>
                        </div>
                        <div style="margin-top: 15px;">
                            You can now track the progress of your cargo and services in real-time.
                        </div>
                    `, 'View Tracking', function() {
                        showSection('tracking');
                        closeModal();
                    });
                }, 2000);
                closeModal();
            });
        }

        // SCF calculations
        document.getElementById('scfAmount').addEventListener('input', calculateSCF);
        document.getElementById('repaymentPeriod').addEventListener('change', calculateSCF);

        function calculateSCF() {
            const scfAmount = parseFloat(document.getElementById('scfAmount').value) || 0;
            const period = parseInt(document.getElementById('repaymentPeriod').value);
            
            let interestRate;
            switch(period) {
                case 30: interestRate = 0.12; break;
                case 60: interestRate = 0.14; break;
                case 90: interestRate = 0.16; break;
                default: interestRate = 0.12;
            }
            
            const interest = (scfAmount * interestRate * period) / 365;
            const processingFee = scfAmount * 0.01;
            const netAmount = scfAmount - processingFee;
            const repaymentAmount = scfAmount + interest;
            
            document.getElementById('scfAmountDisplay').textContent = `₹${scfAmount.toLocaleString()}`;
            document.getElementById('interestAmount').textContent = `₹${Math.round(interest).toLocaleString()}`;
            document.getElementById('processingFee').textContent = `₹${Math.round(processingFee).toLocaleString()}`;
            document.getElementById('netAmount').textContent = `₹${Math.round(netAmount).toLocaleString()}`;
            document.getElementById('repaymentAmount').textContent = `₹${Math.round(repaymentAmount).toLocaleString()}`;
        }

        function applySCF() {
            const scfAmount = parseFloat(document.getElementById('scfAmount').value);
            if (!scfAmount || scfAmount <= 0) {
                alert('Please enter a valid SCF amount');
                return;
            }
            
            const netAmount = document.getElementById('netAmount').textContent;
            const repaymentAmount = document.getElementById('repaymentAmount').textContent;
            const period = document.getElementById('repaymentPeriod').value;
            
            showModal('SCF Application Submitted', `
                <div class="alert-box alert-success">
                    <span>⚡</span>
                    <div>
                        <strong>Instant Approval Confirmed!</strong><br>
                        Your SCF application has been approved and funds will be transferred within 2 hours.
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <strong>Loan Details:</strong><br>
                    • Amount Approved: ₹${scfAmount.toLocaleString()}<br>
                    • You'll Receive: ${netAmount}<br>
                    • Repayment in ${period} days: ${repaymentAmount}<br>
                    • Repayment will be auto-deducted from auction proceeds
                </div>
            `, 'Continue', function() {
                closeModal();
            });
        }

        // Auction timer
        function updateAuctionTimer() {
            const timer = document.getElementById('auctionTimer');
            if (!timer) return;
            
            // Simulate countdown
            let timeLeft = 6 * 3600 + 24 * 60 + 15; // 6h 24m 15s in seconds
            
            setInterval(() => {
                timeLeft--;
                const hours = Math.floor(timeLeft / 3600);
                const minutes = Math.floor((timeLeft % 3600) / 60);
                const seconds = timeLeft % 60;
                
                timer.textContent = `${hours}h ${minutes}m ${seconds}s`;
                
                if (timeLeft <= 0) {
                    timer.textContent = 'Auction Ended';
                }
            }, 1000);
        }

        // Action functions
        function viewFullAuction() {
            showModal('Live Auction Details', `
                <div style="text-align: center; margin-bottom: 15px;">
                    <h2 style="color: #667eea;">Container: TGHU1234567</h2>
                    <div style="font-size: 1.2rem; margin: 10px 0;">Current Bid: <strong style="color: #22c55e;">₹3.25L</strong></div>
                </div>
                <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <strong>Cargo Details:</strong><br>
                    • Electronics - Water Damage<br>
                    • Original Value: ₹5.00L<br>
                    • Recovery Grade: B (65%)<br>
                    • Location: Secure Warehouse, Mumbai
                </div>
                <div style="background: #f0f9ff; padding: 15px; border-radius: 8px;">
                    <strong>Bidding Activity:</strong><br>
                    High interest from 8 verified buyers. Average bid increment: ₹10,000
                </div>
            `, 'Close', closeModal);
        }

        function acceptCurrentBid() {
            showModal('Accept Current Bid', `
                <div class="alert-box alert-warning">
                    <span>⚠️</span>
                    <div>
                        <strong>End Auction Early?</strong><br>
                        You're about to accept the current bid of ₹3.25L and end the auction immediately.
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <strong>Final Settlement:</strong><br>
                    • Winning Bid: ₹3.25L<br>
                    • Platform Fee (10%): ₹32,500<br>
                    • Your Recovery: ₹2,92,500<br><br>
                    This action cannot be undone.
                </div>
            `, 'Accept Bid', function() {
                showModal('Auction Ended Successfully!', `
                    <div class="alert-box alert-success">
                        <span>🎉</span>
                        <div>
                            <strong>Congratulations!</strong><br>
                            Your cargo has been sold to ElectronicsDealer99 for ₹3.25L
                        </div>
                    </div>
                    <div style="margin-top: 15px;">
                        <strong>Next Steps:</strong><br>
                        1. Buyer payment verification (within 24 hours)<br>
                        2. Cargo transfer coordination<br>
                        3. Your payment processing<br><br>
                        Expected settlement: <strong>Within 48 hours</strong>
                    </div>
                `, 'Continue', closeModal);
            });
        }

        function downloadReport() {
            showModal('Download Tracking Report', `
                <div class="alert-box alert-info">
                    <span>📄</span>
                    <div>
                        <strong>Generate Comprehensive Report</strong><br>
                        Get detailed tracking report with timestamps, GPS coordinates, and service updates.
                    </div>
                </div>
                <div style="margin-top: 15px;">
                    <strong>Report Includes:</strong><br>
                    • Complete journey timeline<br>
                    • Service execution details<br>
                    • Financial breakdown<br>
                    • Compliance certificates<br>
                    • GPS tracking history
                </div>
            `, 'Download PDF', function() {
                // Simulate download
                alert('📄 Report downloaded successfully!');
                closeModal();
            });
        }

        function contactDriver() {
            showModal('Contact Driver', `
                <div style="text-align: center; margin-bottom: 15px;">
                    <div style="font-size: 3rem;">🚛</div>
                    <h3>Driver: Rajesh Kumar</h3>
                    <div style="color: #666;">Vehicle: MH-01-AB-1234</div>
                </div>
                <div style="background: #f8fafc; padding: 15px; border-radius: 8px; margin: 15px 0;">
                    <strong>Current Status:</strong><br>
                    En route to warehouse • ETA: 2:15 PM<br>
                    Location: Highway 48, Navi Mumbai
                </div>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn btn-primary" style="flex: 1;" onclick="callDriver()">📞 Call</button>
                    <button class="btn btn-secondary" style="flex: 1;" onclick="messageDriver()">💬 Message</button>
                </div>
            `, 'Close', closeModal);
        }

        function callDriver() {
            alert('📞 Calling driver...\n\nIn a real app, this would initiate a phone call to +91 98765 43210');
        }

        function messageDriver() {
            alert('💬 Opening chat...\n\nIn a real app, this would open a messaging interface with the driver');
        }

        // Modal functions
        function showModal(title, body, actionText, actionCallback) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalBody').innerHTML = body;
            
            const actionBtn = document.getElementById('modalAction');
            actionBtn.textContent = actionText || 'OK';
            actionBtn.onclick = actionCallback || closeModal;
            
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateAuctionTimer();
            calculateSCF();
            
            // Set default SCF amount
            document.getElementById('scfAmount').value = '200000';
            calculateSCF();
        });

        // Other action functions
        function saveSCFDraft() {
            alert('💾 SCF application saved as draft!\n\nYou can complete it later from your dashboard.');
        }

        function setReserveIncrease() {
            alert('📈 Reserve price management is available to premium users.\n\nContact support to upgrade your account.');
        }

        // Simulate real-time updates (for demo)
        setInterval(() => {
            // Randomly update tracking or auction data
            if (Math.random() < 0.1) { // 10% chance every interval
                console.log('Simulating real-time update...');
                // In a real app, this would fetch new data
            }
        }, 30000); // Every 30 seconds
    </script>
</body>
</html>